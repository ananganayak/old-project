angular.module('widgets').controller('botsController', [
    '$scope',
    '$rootScope',
    '$location',
    '$timeout',
    function($scope, $rootScope, $location, $timeout) {
        'use strict';

        $scope.init = function() {

            var flot4 = function() {

                var oilprices = [[1167692400000, 61.05], [1167778800000, 58.32], [1167865200000, 57.35], [1167951600000, 56.31], [1168210800000, 55.55], [1168297200000, 55.64], [1168383600000, 54.02], [1168470000000, 51.88], [1168556400000, 52.99], [1168815600000, 52.99], [1168902000000, 51.21], [1168988400000, 52.24], [1169074800000, 50.48], [1169161200000, 51.99], [1169420400000, 51.13], [1169506800000, 55.04], [1169593200000, 55.37], [1169679600000, 54.23], [1169766000000, 55.42], [1170025200000, 54.01], [1170111600000, 56.97], [1170198000000, 58.14], [1170284400000, 58.14], [1170370800000, 59.02], [1170630000000, 58.74], [1170716400000, 58.88], [1170802800000, 57.71], [1170889200000, 59.71], [1170975600000, 59.89], [1171234800000, 57.81], [1171321200000, 59.06], [1171407600000, 58.00], [1171494000000, 57.99], [1171580400000, 59.39], [1171839600000, 59.39], [1171926000000, 58.07], [1172012400000, 60.07], [1172098800000, 61.14], [1172444400000, 61.39], [1172530800000, 61.46], [1172617200000, 61.79], [1172703600000, 62.00], [1172790000000, 60.07], [1173135600000, 60.69], [1173222000000, 61.82], [1173308400000, 60.05], [1173654000000, 58.91], [1173740400000, 57.93], [1173826800000, 58.16], [1173913200000, 57.55], [1173999600000, 57.11], [1174258800000, 56.59], [1174345200000, 59.61], [1174518000000, 61.69], [1174604400000, 62.28], [1174860000000, 62.91], [1174946400000, 62.93], [1175032800000, 64.03], [1175119200000, 66.03], [1175205600000, 65.87], [1175464800000, 64.64], [1175637600000, 64.38], [1175724000000, 64.28], [1175810400000, 64.28], [1176069600000, 61.51], [1176156000000, 61.89], [1176242400000, 62.01], [1176328800000, 63.85], [1176415200000, 63.63], [1176674400000, 63.61], [1176760800000, 63.10], [1176847200000, 63.13], [1176933600000, 61.83], [1177020000000, 63.38], [1177279200000, 64.58], [1177452000000, 65.84], [1177538400000, 65.06], [1177624800000, 66.46], [1177884000000, 64.40], [1178056800000, 63.68], [1178143200000, 63.19], [1178229600000, 61.93], [1178488800000, 61.47], [1178575200000, 61.55], [1178748000000, 61.81], [1178834400000, 62.37], [1179093600000, 62.46], [1179180000000, 63.17], [1179266400000, 62.55], [1179352800000, 64.94], [1179698400000, 66.27], [1179784800000, 65.50], [1179871200000, 65.77], [1179957600000, 64.18], [1180044000000, 65.20], [1180389600000, 63.15], [1180476000000, 63.49], [1180562400000, 65.08], [1180908000000, 66.30], [1180994400000, 65.96], [1181167200000, 66.93], [1181253600000, 65.98], [1181599200000, 65.35], [1181685600000, 66.26], [1181858400000, 68.00], [1182117600000, 69.09], [1182204000000, 69.10], [1182290400000, 68.19], [1182376800000, 68.19], [1182463200000, 69.14], [1182722400000, 68.19], [1182808800000, 67.77], [1182895200000, 68.97], [1182981600000, 69.57], [1183068000000, 70.68], [1183327200000, 71.09], [1183413600000, 70.92], [1183586400000, 71.81], [1183672800000, 72.81], [1183932000000, 72.19], [1184018400000, 72.56], [1184191200000, 72.50], [1184277600000, 74.15], [1184623200000, 75.05], [1184796000000, 75.92], [1184882400000, 75.57], [1185141600000, 74.89], [1185228000000, 73.56], [1185314400000, 75.57], [1185400800000, 74.95], [1185487200000, 76.83], [1185832800000, 78.21], [1185919200000, 76.53], [1186005600000, 76.86], [1186092000000, 76.00], [1186437600000, 71.59], [1186696800000, 71.47], [1186956000000, 71.62], [1187042400000, 71.00], [1187301600000, 71.98], [1187560800000, 71.12], [1187647200000, 69.47], [1187733600000, 69.26], [1187820000000, 69.83], [1187906400000, 71.09], [1188165600000, 71.73], [1188338400000, 73.36], [1188511200000, 74.04], [1188856800000, 76.30], [1189116000000, 77.49], [1189461600000, 78.23], [1189548000000, 79.91], [1189634400000, 80.09], [1189720800000, 79.10], [1189980000000, 80.57], [1190066400000, 81.93], [1190239200000, 83.32], [1190325600000, 81.62], [1190584800000, 80.95], [1190671200000, 79.53], [1190757600000, 80.30], [1190844000000, 82.88], [1190930400000, 81.66], [1191189600000, 80.24], [1191276000000, 80.05], [1191362400000, 79.94], [1191448800000, 81.44], [1191535200000, 81.22], [1191794400000, 79.02], [1191880800000, 80.26], [1191967200000, 80.30], [1192053600000, 83.08], [1192140000000, 83.69], [1192399200000, 86.13], [1192485600000, 87.61], [1192572000000, 87.40], [1192658400000, 89.47], [1192744800000, 88.60], [1193004000000, 87.56], [1193090400000, 87.56], [1193176800000, 87.10], [1193263200000, 91.86], [1193612400000, 93.53], [1193698800000, 94.53], [1193871600000, 95.93], [1194217200000, 93.98], [1194303600000, 96.37], [1194476400000, 95.46], [1194562800000, 96.32], [1195081200000, 93.43], [1195167600000, 95.10], [1195426800000, 94.64], [1195513200000, 95.10], [1196031600000, 97.70], [1196118000000, 94.42], [1196204400000, 90.62], [1196290800000, 91.01], [1196377200000, 88.71], [1196636400000, 88.32], [1196809200000, 90.23], [1196982000000, 88.28], [1197241200000, 87.86], [1197327600000, 90.02], [1197414000000, 92.25], [1197586800000, 90.63], [1197846000000, 90.63], [1197932400000, 90.49], [1198018800000, 91.24], [1198105200000, 91.06], [1198191600000, 90.49], [1198710000000, 96.62], [1198796400000, 96.00], [1199142000000, 99.62], [1199314800000, 99.18], [1199401200000, 95.09], [1199660400000, 96.33], [1199833200000, 95.67], [1200351600000, 91.90], [1200438000000, 90.84], [1200524400000, 90.13], [1200610800000, 90.57], [1200956400000, 89.21], [1201042800000, 86.99], [1201129200000, 89.85], [1201474800000, 90.99], [1201561200000, 91.64], [1201647600000, 92.33], [1201734000000, 91.75], [1202079600000, 90.02], [1202166000000, 88.41], [1202252400000, 87.14], [1202338800000, 88.11], [1202425200000, 91.77], [1202770800000, 92.78], [1202857200000, 93.27], [1202943600000, 95.46], [1203030000000, 95.46], [1203289200000, 101.74], [1203462000000, 98.81], [1203894000000, 100.88], [1204066800000, 99.64], [1204153200000, 102.59], [1204239600000, 101.84], [1204498800000, 99.52], [1204585200000, 99.52], [1204671600000, 104.52], [1204758000000, 105.47], [1204844400000, 105.15], [1205103600000, 108.75], [1205276400000, 109.92], [1205362800000, 110.33], [1205449200000, 110.21], [1205708400000, 105.68], [1205967600000, 101.84], [1206313200000, 100.86], [1206399600000, 101.22], [1206486000000, 105.90], [1206572400000, 107.58], [1206658800000, 105.62], [1206914400000, 101.58], [1207000800000, 100.98], [1207173600000, 103.83], [1207260000000, 106.23], [1207605600000, 108.50], [1207778400000, 110.11], [1207864800000, 110.14], [1208210400000, 113.79], [1208296800000, 114.93], [1208383200000, 114.86], [1208728800000, 117.48], [1208815200000, 118.30], [1208988000000, 116.06], [1209074400000, 118.52], [1209333600000, 118.75], [1209420000000, 113.46], [1209592800000, 112.52], [1210024800000, 121.84], [1210111200000, 123.53], [1210197600000, 123.69], [1210543200000, 124.23], [1210629600000, 125.80], [1210716000000, 126.29], [1211148000000, 127.05], [1211320800000, 129.07], [1211493600000, 132.19], [1211839200000, 128.85], [1212357600000, 127.76], [1212703200000, 138.54], [1212962400000, 136.80], [1213135200000, 136.38], [1213308000000, 134.86], [1213653600000, 134.01], [1213740000000, 136.68], [1213912800000, 135.65], [1214172000000, 134.62], [1214258400000, 134.62], [1214344800000, 134.62], [1214431200000, 139.64], [1214517600000, 140.21], [1214776800000, 140.00], [1214863200000, 140.97], [1214949600000, 143.57], [1215036000000, 145.29], [1215381600000, 141.37], [1215468000000, 136.04], [1215727200000, 146.40], [1215986400000, 145.18], [1216072800000, 138.74], [1216159200000, 134.60], [1216245600000, 129.29], [1216332000000, 130.65], [1216677600000, 127.95], [1216850400000, 127.95], [1217282400000, 122.19], [1217455200000, 124.08], [1217541600000, 125.10], [1217800800000, 121.41], [1217887200000, 119.17], [1217973600000, 118.58], [1218060000000, 120.02], [1218405600000, 114.45], [1218492000000, 113.01], [1218578400000, 116.00], [1218751200000, 113.77], [1219010400000, 112.87], [1219096800000, 114.53], [1219269600000, 114.98], [1219356000000, 114.98], [1219701600000, 116.27], [1219788000000, 118.15], [1219874400000, 115.59], [1219960800000, 115.46], [1220306400000, 109.71], [1220392800000, 109.35], [1220565600000, 106.23], [1220824800000, 106.34]];

                var exchangerates = [[1167692400000, 45.05], [1167778800000, 120], [1167865200000, 80], [1167951600000, 120.45], [1168210800000, 119.56], [1168297200000, 117.12], [1168383600000, 120], [1168470000000, 30.12], [1168556400000, 32.99], [1168815600000, 32.99], [1168902000000, 31.21], [1168988400000, 32.24], [1169074800000, 30.48], [1169161200000, 31.99], [1169420400000, 31.13], [1169506800000, 35.04], [1169593200000, 35.37], [1169679600000, 34.23], [1169766000000, 35.42], [1170025200000, 34.01], [1170111600000, 36.97], [1170198000000, 38.14], [1170284400000, 38.14], [1170370800000, 39.02], [1170630000000, 38.74], [1170716400000, 38.88], [1170802800000, 37.71], [1170889200000, 39.71], [1170975600000, 39.89], [1171234800000, 37.81], [1171321200000, 39.06], [1171407600000, 38.00], [1171494000000, 37.99], [1171580400000, 39.39], [1171839600000, 39.39], [1171926000000, 38.07], [1172012400000, 30.07], [1172098800000, 41.14], [1172444400000, 41.39], [1172530800000, 41.46], [1172617200000, 41.79], [1172703600000, 42.00], [1172790000000, 40.07], [1173135600000, 40.69], [1173222000000, 41.82], [1173308400000, 40.05], [1173654000000, 38.91], [1173740400000, 37.93], [1173826800000, 38.16], [1173913200000, 37.55], [1173999600000, 37.11], [1174258800000, 36.59], [1174345200000, 39.61], [1174518000000, 41.69], [1174604400000, 42.28], [1174860000000, 42.91], [1174946400000, 42.93], [1175032800000, 44.03], [1175119200000, 46.03], [1175205600000, 45.87], [1175464800000, 44.64], [1175637600000, 44.38], [1175724000000, 44.28], [1175810400000, 44.28], [1176069600000, 41.51], [1176156000000, 41.89], [1176242400000, 42.01], [1176328800000, 43.85], [1176415200000, 43.63], [1176674400000, 43.61], [1176760800000, 43.10], [1176847200000, 43.13], [1176933600000, 41.83], [1177020000000, 43.38], [1177279200000, 44.58], [1177452000000, 45.84], [1177538400000, 45.06], [1177624800000, 46.46], [1177884000000, 44.40], [1178056800000, 43.68], [1178143200000, 43.19], [1178229600000, 41.93], [1178488800000, 41.47], [1178575200000, 41.55], [1178748000000, 41.81], [1178834400000, 42.37], [1179093600000, 42.46], [1179180000000, 43.17], [1179266400000, 42.55], [1179352800000, 44.94], [1179698400000, 46.27], [1179784800000, 45.50], [1179871200000, 45.77], [1179957600000, 44.18], [1180044000000, 45.20], [1180389600000, 43.15], [1180476000000, 43.49], [1180562400000, 45.08], [1180908000000, 46.30], [1180994400000, 45.96], [1181167200000, 46.93], [1181253600000, 45.98], [1181599200000, 45.35], [1181685600000, 46.26], [1181858400000, 48.00], [1182117600000, 49.09], [1182204000000, 49.10], [1182290400000, 48.19], [1182376800000, 48.19], [1182463200000, 49.14], [1182722400000, 48.19], [1182808800000, 47.77], [1182895200000, 48.97], [1182981600000, 49.57], [1183068000000, 50.68], [1183327200000, 51.09], [1183413600000, 50.92], [1183586400000, 51.81], [1183672800000, 52.81], [1183932000000, 52.19], [1184018400000, 52.56], [1184191200000, 52.50], [1184277600000, 54.15], [1184623200000, 55.05], [1184796000000, 55.92], [1184882400000, 55.57], [1185141600000, 54.89], [1185228000000, 53.56], [1185314400000, 55.57], [1185400800000, 54.95], [1185487200000, 56.83], [1185832800000, 58.21], [1185919200000, 56.53], [1186005600000, 56.86], [1186092000000, 56.00], [1186437600000, 51.59], [1186696800000, 51.47], [1186956000000, 51.62], [1187042400000, 51.00], [1187301600000, 51.98], [1187560800000, 51.12], [1187647200000, 59.47], [1187733600000, 59.26], [1187820000000, 59.83], [1187906400000, 51.09], [1188165600000, 51.73], [1188338400000, 53.36], [1188511200000, 54.04], [1188856800000, 56.30], [1189116000000, 57.49], [1189461600000, 58.23], [1189548000000, 59.91], [1189634400000, 50.09], [1189720800000, 59.10], [1189980000000, 50.57], [1190066400000, 51.93], [1190239200000, 53.32], [1190325600000, 51.62], [1190584800000, 50.95], [1190671200000, 59.53], [1190757600000, 50.30], [1190844000000, 52.88], [1190930400000, 51.66], [1191189600000, 50.24], [1191276000000, 50.05], [1191362400000, 59.94], [1191448800000, 51.44], [1191535200000, 51.22], [1191794400000, 59.02], [1191880800000, 50.26], [1191967200000, 50.30], [1192053600000, 53.08], [1192140000000, 53.69], [1192399200000, 56.13], [1192485600000, 57.61], [1192572000000, 57.40], [1192658400000, 59.47], [1192744800000, 58.60], [1193004000000, 55.56], [1193090400000, 57.56], [1193176800000, 57.10], [1193263200000, 51.86], [1193612400000, 53.53], [1193698800000, 54.53], [1193871600000, 55.93], [1194217200000, 53.98], [1194303600000, 56.37], [1194476400000, 55.46], [1194562800000, 56.32], [1195081200000, 53.43], [1195167600000, 55.10], [1195426800000, 54.64], [1195513200000, 65.10], [1196031600000, 67.70], [1196118000000, 64.42], [1196204400000, 60.62], [1196290800000, 61.01], [1196377200000, 68.71], [1196636400000, 68.32], [1196809200000, 60.23], [1196982000000, 68.28], [1197241200000, 67.86], [1197327600000, 60.02], [1197414000000, 62.25], [1197586800000, 60.63], [1197846000000, 60.63], [1197932400000, 60.49], [1198018800000, 61.24], [1198105200000, 61.06], [1198191600000, 60.49], [1198710000000, 66.62], [1198796400000, 66.00], [1199142000000, 69.62], [1199314800000, 69.18], [1199401200000, 65.09], [1199660400000, 66.33], [1199833200000, 65.67], [1200351600000, 61.90], [1200438000000, 60.84], [1200524400000, 60.13], [1200610800000, 60.57], [1200956400000, 69.21], [1201042800000, 66.99], [1201129200000, 69.85], [1201474800000, 60.99], [1201561200000, 61.64], [1201647600000, 62.33], [1201734000000, 61.75], [1202079600000, 60.02], [1202166000000, 68.41], [1202252400000, 67.14], [1202338800000, 68.11], [1202425200000, 61.77], [1202770800000, 62.78], [1202857200000, 63.27], [1202943600000, 65.46], [1203030000000, 65.46], [1203289200000, 71.74], [1203462000000, 78.81], [1203894000000, 70.88], [1204066800000, 79.64], [1204153200000, 72.59], [1204239600000, 71.84], [1204498800000, 79.52], [1204585200000, 79.52], [1204671600000, 74.52], [1204758000000, 75.47], [1204844400000, 75.15], [1205103600000, 78.75], [1205276400000, 79.92], [1205362800000, 70.33], [1205449200000, 70.21], [1205708400000, 75.68], [1205967600000, 71.84], [1206313200000, 70.86], [1206399600000, 71.22], [1206486000000, 75.90], [1206572400000, 77.58], [1206658800000, 75.62], [1206914400000, 71.58], [1207000800000, 70.98], [1207173600000, 73.83], [1207260000000, 76.23], [1207605600000, 80.50], [1207778400000, 80.11], [1207864800000, 80.14], [1208210400000, 83.79], [1208296800000, 84.93], [1208383200000, 84.86], [1208728800000, 87.48], [1208815200000, 88.30], [1208988000000, 86.06], [1209074400000, 88.52], [1209333600000, 88.75], [1209420000000, 83.46], [1209592800000, 82.52], [1210024800000, 81.84], [1210111200000, 83.53], [1210197600000, 83.69], [1210543200000, 94.23], [1210629600000, 95.80], [1210716000000, 96.29], [1211148000000, 97.05], [1211320800000, 99.07], [1211493600000, 92.19], [1211839200000, 98.85], [1212357600000, 97.76], [1212703200000, 98.54], [1212962400000, 96.80], [1213135200000, 96.38], [1213308000000, 94.86], [1213653600000, 94.01], [1213740000000, 96.68], [1213912800000, 95.65], [1214172000000, 94.62], [1214258400000, 94.62], [1214344800000, 94.62], [1214431200000, 99.64], [1214517600000, 90.21], [1214776800000, 90.00], [1214863200000, 90.97], [1214949600000, 93.57], [1215036000000, 95.29], [1215381600000, 91.37], [1215468000000, 69.04], [1215727200000, 96.40], [1215986400000, 95.18], [1216072800000, 98.74], [1216159200000, 94.60], [1216245600000, 99.29], [1216332000000, 90.65], [1216677600000, 97.95], [1216850400000, 97.95], [1217282400000, 92.19], [1217455200000, 94.08], [1217541600000, 95.10], [1217800800000, 91.41], [1217887200000, 99.17], [1217973600000, 98.58], [1218060000000, 90.02], [1218405600000, 94.45], [1218492000000, 93.01], [1218578400000, 96.00], [1218751200000, 93.77], [1219010400000, 92.87], [1219096800000, 94.53], [1219269600000, 94.98], [1219356000000, 94.98], [1219701600000, 96.27], [1219788000000, 98.15], [1219874400000, 95.59], [1219960800000, 95.46], [1220306400000, 99.71], [1220392800000, 69.35], [1220565600000, 66.23], [1220824800000, 66.34]];

                var plot4 = $.plot("#flot4", [
                    {data: oilprices, label: "Oil price ($)"},
                    {data: exchangerates, label: "USD/EUR exchange rate"}
                ], {
                    series: {
                        shadowSize: 0	// Drawing is faster without shadows
                    },
                    yaxis: {
                        min: 0
                    },
                    xaxes: [{mode: "time"}],
                    colors: ["#22BAA0", "#befca4"],
                    legend: {
                        show: false
                    },
                    grid: {
                        color: "#AFAFAF",
                        hoverable: true,
                        borderWidth: 0,
                        backgroundColor: '#FFF'
                    },
                    tooltip: true,
                    tooltipOpts: {
                        content: "Y: %y",
                        defaultTheme: false
                    }
                });

                function update() {
                    plot4.setData([getRandomData()]);

                    plot4.draw();
                    setTimeout(update, 30);
                }

                //update();

            };

            flot4();

        }

    }
]);